# searchd and indexer must be run from this directory.

indexer
{
  mem_limit = 64M
}

searchd
{
  port         = 3312
  log          = sphinx.log
  query_log    = sphinx.query.log
  read_timeout = 5
  max_children = 30
  pid_file     = sphinx.pid
  max_matches  = 1000
}

source items
{
  type     = mysql
  sql_host = localhost
  sql_user = root
  sql_pass =
  sql_db   = dm_sphinx_adapter_test

  sql_query_pre  = SET NAMES utf8
  sql_query      = select id, name, likes, unix_timestamp(updated_on) as updated_on from items
  sql_query_info = select * from items where id = $id

  sql_attr_timestamp = updated_on
}

index items
{
  source      = items
  path        = sphinx/items
  morphology  = stem_en
  enable_star = 1

  min_word_len   = 3
  min_prefix_len = 0
  min_infix_len  = 3
}

